<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Book Generator</title>
    <script src="https://code.jquery.com/jquery-3.1.0.min.js"
            integrity="sha256-cCueBR6CsyA4/9szpPfrX3s49M9vUU5BgtiJj06wt/s="
            crossorigin="anonymous"></script>
</head>
<body>
<div id="wrapper">

</div>
<script>
    window.onload = function () {
        let id = 1;
        createBook("#wrapper", "Alice in Wonderland", "Lewis Carroll", 1111);
        createBook("#wrapper", "Alice in Wonderland", "Lewis Carroll", 1111);

        function createBook(selector, title, author, number){
            let newId = "book"+id;
            id++;
            let newBookTitle = $("<p>").addClass("title").text(title)
            let newBookAuthor = $("<p>").addClass("author").text(author)
            let newBookNumber = $("<p>").addClass("isbn").text(number)
            let selectButton = $("<button>").text("Select").click(selectBook)
            let deselectButton = $("<button>").text("Deselect").click(deselectBook)

            let newBook = $("<div>").attr('id', newId).css("border", "medium none").append(newBookTitle).append(newBookAuthor).append(newBookNumber).append(selectButton).append(deselectButton)
            $(selector).append(newBook)
            
            function selectBook() {
                $(this).parent().css("border", "2px solid blue")
            }

            function deselectBook() {
                $(this).parent().css("border", "medium none")
            }

        }
    }
</script>
</body>
</html>
